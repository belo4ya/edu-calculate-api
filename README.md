# Edu Calculate API

ะัะพะณัะฐะผะผะธัะพะฒะฐะฝะธะต ะฝะฐ Go | 24. ะะตะฑ-ัะตัะฒะธั ะดะปั ะฒััะธัะปะตะฝะธั ะฐัะธัะผะตัะธัะตัะบะธั ะฒััะฐะถะตะฝะธะน.
ะะพะปัะทะพะฒะฐัะตะปั ะพัะฟัะฐะฒะปัะตั ะฐัะธัะผะตัะธัะตัะบะพะต ะฒััะฐะถะตะฝะธะต ะฟะพ HTTP ะธ ะฟะพะปััะฐะตั ะฒ ะพัะฒะตั ะตะณะพ ัะตะทัะปััะฐั.

## ๐ ะะฐะฟััะบ

ะะฐะฟัััะธัั ัะตัะฒะตั:

```shell
make run
```

ะะฐะฟัััะธัั ะปะธะฝัะตั:

```shell
make lint
```

ะะฐะฟัััะธัั ัะตััั ั ะพััะตัะพะผ ะพ ะฟะพะบัััะธะธ:

```shell
make test-cover
```

## ๐ก ะัะฟะพะปัะทะพะฒะฐะฝะธะต

ะฃ ัะตัะฒะธัะฐ 1 endpoint ั url-ะพะผ `/api/v1/calculate`. ะะพะปัะทะพะฒะฐัะตะปั ะพัะฟัะฐะฒะปัะตั ะฝะฐ ััะพั url POST-ะทะฐะฟัะพั ั ัะตะปะพะผ:

```shell
curl --write-out 'status code: %{http_code}\n' localhost:8080/api/v1/calculate \
-H 'Content-Type: application/json' \
--data '{"expression": "2+2*2"}'
```

ะัะฒะตั:

```text
{"result":6}
status code: 200
```

ะะฐะฟัะพั ั ะฝะตะฒะฐะปะธะดะฝัะผ ะฒััะฐะถะตะฝะธะตะผ:

```shell
curl --write-out 'status code: %{http_code}\n' localhost:8080/api/v1/calculate \
-H 'Content-Type: application/json' \
--data '{"expression": "2+2*"}'
```

ะัะฒะตั:

```text
{"error":"Expression is not valid"}
status code: 422
```

ะะตะฒะฐะปะธะดะฝัะน ะทะฐะฟัะพั:

```shell
curl --write-out 'status code: %{http_code}\n' localhost:8080/api/v1/calculate \
-H 'Content-Type: application/json' \
--data '{"expression": 10}'
```

ะัะฒะตั:

```text
{"error":"Internal server error"}
status code: 500
```

## ๐ ะกัััะบัััะฐ

```text
โโโ cmd
โยย โโโ cli
โยย โยย โโโ main.go  # ัะพัะบะฐ ะฒัะพะดะฐ ะดะปั ะทะฐะฟััะบะฐ ะฟัะธะปะพะถะตะฝะธั ะฒ ัะตะถะธะผะต ะบะพะผะฐะฝะดะฝะพะน ัััะพะบะธ
โยย โโโ server
โยย     โโโ main.go  # ัะพัะบะฐ ะฒัะพะดะฐ ะดะปั ะทะฐะฟััะบะฐ ะฟัะธะปะพะถะตะฝะธั ะฒ ัะตะถะธะผะต ะฒะตะฑ-ัะตัะฒะธัะฐ
โโโ internal
โยย โโโ config
โยย โยย โโโ config.go  # ััััะบัััะฐ ััะฐะฝะตะฝะธั ะธ ะทะฐะณััะทะบะธ ะบะพะฝัะธะณะฐ
โยย โโโ httputil
โยย โยย โโโ httputil.go
โยย โโโ logging
โยย โยย โโโ logging.go  # ะบะพะฝัะธะณััะฐัะธั ะปะพะณะณะตัะฐ
โยย โโโ server
โยย โยย โโโ http.go  # ะบะพะฝัะธะณััะฐัะธั HTTP-ัะตัะฒะตัะฐ
โยย โโโ service
โยย     โโโ calculate.go  # ะฑะธะทะฝะตั-ะปะพะณะธะบะฐ ะพะฑัะฐะฑะพััะธะบะฐ ะทะฐะฟัะพัะพะฒ
โยย     โโโ calculate_test.go
โยย     โโโ service.go
โโโ pkg
โยย โโโ calc  # ะผะพะดัะปั ะฒััะธัะปะตะฝะธั ะฐัะธัะผะตัะธัะตัะบะธั ะฒััะฐะถะตะฝะธะน
โยย     โโโ calc.go
โยย     โโโ calc_test.go
โยย     โโโ errors.go
โโโ Makefile  # ะฟะพะปะตะทะฝัะต ะบะพะผะฐะฝะดั
โโโ README.md  # ะฒั ะทะดะตัั
```
